=begin

=end

deepthoughts = proc { |server_string|
	respond ""
	respond "#{server_string}"
	respond ""
	if server_string =~ /<pushStream id=\"thoughts\"/
		respond ""
		respond "Match found"
		respond ""
		server_string.gsub '<pushStream id=\"thoughts\"', '<pushStream id=\"speech\"'
	else
    		server_string
	end
}

DownstreamHook.add('deepthoughts', deepthoughts)
before_dying {
	DownstreamHook.remove('deepthoughts')
}

loop do
	sleep 1
end
